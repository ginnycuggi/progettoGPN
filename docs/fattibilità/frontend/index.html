<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scambio di Schemi</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Benvenuto su Scambio di SchemiGPN</h1>

    <form class="search-section" onsubmit="event.preventDefault(); handleSearch()">
      <input type="text" id="searchInput" placeholder="ðŸ” Cerca uno schema..." class="search-bar">
      <button type="submit">Cerca</button>
    </form>

    <div class="account-link">
      <a href="registrazione.html" class="register-button">ðŸ‘¤ Crea un account</a>
    </div>

    <p>Scegli come accedere alla piattaforma:</p>

    <div class="option">
      <h2>Abbonamento</h2>
      <p>Accedi pagando una quota mensile</p>
      <button onclick="alert('Funzione pagamento in arrivo!')">Paga ora</button>
    </div>

    <div class="option">
      <h2>Scambio</h2>
      <p>Carica uno schema valido per poter ritirarne un altro</p>
      <input type="file" id="schemaUpload" accept=".pdf,.jpg,.jpeg,.png,.pwp,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt">
      <button onclick="handleUpload()">Carica Schema</button>
    </div>

    <div id="uploadedSchemas"></div>
  </div>

  <script>
    function handleSearch() {
      const query = document.getElementById('searchInput').value.trim();
      if (query) {
        alert(`Hai cercato: "${query}"`);
      } else {
        alert("Inserisci un termine di ricerca.");
      }
    }

    function handleUpload() {
      const fileInput = document.getElementById('schemaUpload');
      const container = document.getElementById('uploadedSchemas');

      if (fileInput.files.length > 0) {
        const file = fileInput.files[0];
        const schemaBox = document.createElement('div');
        schemaBox.className = 'schema-box';
        schemaBox.innerHTML = `
          <strong>${file.name}</strong><br>
          <span>Valuta questo schema:</span>
          <div class="stars">
            ${[1,2,3,4,5].map(i => `<span class="star" data-value="${i}">&#9733;</span>`).join('')}
          </div>
        `;
        container.appendChild(schemaBox);

        const stars = schemaBox.querySelectorAll('.star');
        stars.forEach(star => {
          star.addEventListener('click', () => {
            const rating = parseInt(star.getAttribute('data-value'));
            stars.forEach(s => {
              s.classList.toggle('selected', parseInt(s.getAttribute('data-value')) <= rating);
            });
            alert(`Hai dato ${rating} stelle a "${file.name}"`);
          });
        });
      } else {
        alert('Seleziona un file prima di caricare.');
      }
    }
  </script>
</body>
</html>
